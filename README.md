# LINE Bot 翻譯助手

本專案是一個基於 **LINE Messaging API** 與 **OpenAI GPT-4o** 的多語言翻譯 Bot，專門設計來協助需要外籍看護的家庭，透過群組即時翻譯，打破語言隔閡。

## 功能特點

1. **多語言即時翻譯**：支援同時將訊息翻譯為多種語言。
2. **群組對話支援**：適用於 LINE 群組，協助群組成員跨語言溝通。
3. **簡易設定命令**：使用 `/set` 命令快速設定目標語言。
4. **安全機制**：通關密語驗證，避免未經授權使用。
5. **高品質翻譯**：基於 OpenAI GPT-4o 提供準確且自然的翻譯結果。

---

## 快速開始

### 1. 環境設定
- 準備以下必要資訊：
- **LINE Developers**：
  - Channel Access Token
  - Channel Secret
- **OpenAI**：
  - API Key
- **Google Cloud IAM**：
  - 取得服務帳號金鑰 JSON 檔案。

### 2. 安裝相依套件
- 安裝專案所需的套件後，設定環境變數。

### 3. 啟動服務
- 啟動 Bot 服務，將 Webhook 設定至 LINE Developers Console，讓 Bot 開始運作。

---

## 使用方法

1. **邀請 LINE Bot 加入群組**。
2. **輸入通關密語** 進行驗證。
3. 使用 `/set` 命令設定目標語言，例如：/set 中文 英文 印尼語
4. 開始對話，Bot 會自動翻譯訊息至指定的語言。

---

## 技術架構

### 系統架構概覽

- **LINE Messaging API**：接收並回應使用者訊息。
- **OpenAI GPT-4o**：進行高品質的多語言翻譯。
- **Google Sheets**：儲存使用者設定與日誌。
- **Node.js + Express**：建立後端服務，處理訊息邏輯。

### 主要流程

1. **訊息接收**：監聽 LINE Webhook 並接收使用者訊息。
2. **驗證機制**：檢查是否已輸入通關密語。
3. **語言設定**：允許使用 `/set` 命令設定目標語言。
4. **多語言翻譯**：將訊息翻譯成指定語言並回傳給群組。
5. **記錄與存儲**：將使用者身份設定（個人或群組）、語言設定、設定時間等資訊存儲至 Google Sheets。

---

## 部署方式

### 雲端部署
- 使用 **Vercel** 或其他支援 Node.js 的雲端平台進行部署。
- 設定環境變數並上傳程式碼，即可快速啟動服務。

### 本地測試
1. 使用 `ngrok` 暫時啟動公開 Webhook URL 進行測試。
2. 在 LINE Developers Console 設定 Webhook URL。

---

## 注意事項

1. **API 限額**：請注意 OpenAI API 的使用額度，避免超額費用。
2. **安全性**：妥善管理環境變數，確保 .env 不被外部存取。
3. **服務穩定性**：Vercel 為免費版本，可能會有服務中斷的情況。

---

## 未來優化方向

1. 遷移至 **Firebase 資料庫** 提升效能與穩定性。
2. 使用 Linode 進行後端服務管理取代 Vercel。
3. 增加可以替換自己的 OpenAI API 或其他翻譯服務的功能，提供更多的翻譯選項。
4. 提供紀錄專有名詞翻譯的資料庫，增加使用者體驗。

